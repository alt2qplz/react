<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    const deepCopy = (inObject) => {

        let outObject, key, value;

        if (typeof inObject !== "object" || inObject === null) {
            return inObject;
        }

        outObject = Array.isArray(outObject) ? [] : {};

        for (key in inObject) {
            value = inObject[key]

            outObject[key] = (typeof value === 'object' && value !== null) ? deepCopy(value) : value;

        }

        return outObject;
    };

    /*let x = [5, 5, [4, 5, ['hello world', 5]]];

    y = deepCopy(x);

    console.log(x);
    console.log(y);
    console.log(x[2][2]);
    console.log(y[2][2]);
    console.log(x[2][2] === y[2][2]);
    console.log(x[2][2][1] === y[2][2][1]);
    console.log(x[2] === y[2]);*/

    let storeOld = {
        _state: {
            profilePage: {
                postsData: [
                    {id: 1, message:'Привет', likes: 10},
                    {id: 1, message:'Привет', likes: 10}
                ],
                newPostText: 'Вот тут находится дефолтное сообщение'
            },
            dialogsPage: {
                messagesData: [
                    {id: 1, messege: 'Привет', avatar: 'https://static.tildacdn.com/tild6536-6139-4562-a430-346635653332/Group.png', senderMe: 1},
                    {id: 2, messege: 'Yo', avatar: 'https://static.tildacdn.com/tild6536-6139-4562-a430-346635653332/Group.png', senderMe: 0},
                    {id: 2, messege: 'Yo', avatar: 'https://static.tildacdn.com/tild6536-6139-4562-a430-346635653332/Group.png', senderMe: 1},
                    {id: 2, messege: 'Yo', avatar: 'https://static.tildacdn.com/tild6536-6139-4562-a430-346635653332/Group.png', senderMe: 1},
                    {id: 2, messege: 'Yo', avatar: 'https://static.tildacdn.com/tild6536-6139-4562-a430-346635653332/Group.png', senderMe: 0},
                    {id: 2, messege: 'Yo', avatar: 'https://static.tildacdn.com/tild6536-6139-4562-a430-346635653332/Group.png', senderMe: 0},
                    {id: 2, messege: 'Yo', avatar: 'https://static.tildacdn.com/tild6536-6139-4562-a430-346635653332/Group.png', senderMe: 1},
                ],
                dialogsData: [
                    {id: 1, name: 'Alexander', avatar: 'https://static.tildacdn.com/tild6536-6139-4562-a430-346635653332/Group.png'},
                    {id: 2, name: 'Masha', avatar: 'https://static.tildacdn.com/tild6536-6139-4562-a430-346635653332/Group.png'},
                    {id: 3, name: 'Anna', avatar: 'https://static.tildacdn.com/tild6536-6139-4562-a430-346635653332/Group.png'},
                    {id: 4, name: 'Kostya', avatar: 'https://static.tildacdn.com/tild6536-6139-4562-a430-346635653332/Group.png'},
                    {id: 5, name: 'Vlad', avatar: 'https://static.tildacdn.com/tild6536-6139-4562-a430-346635653332/Group.png'},
                ],
                newMessage: ''
            }
        },

        _renderAll() {
            console.log('123sdfa');
        },

        subscribe (observer) {
            this._renderAll = observer;
        },
        getState() {
            return this._state
        },

        dispatch (action) {

            this._state.profilePage = profileReducer(this._state.profilePage, action);
            this._state.dialogsPage = dialogReducer(this._state.dialogsPage, action);

            this._renderAll(this._state);
        }

    };

    x = deepCopy(storeOld);

    x._state.profilePage.postsData = 'Привет'

    console.log(x._state.profilePage.postsData);
    console.log(storeOld._state.profilePage.postsData);


</script>
</body>
</html>